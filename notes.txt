ZFS Rebalancing Script

Modifications to original reblancing script
1. Take two directory inputs to script call which contain the two locations of hardlinks. e.g. /data/media/movies and /data/torrents/movies
	- These MUST be in the order /data/torrents/movies, then /data/media/movies
2. Loop through each subdirectory, if input is a file then store it with the torrent full path name as "sourcefile"
3. Function to check if the source file is a hardlink

# Function to check if a file is a hard link
is_hardlink() {
    local file="$1"
    local link_count=$(stat -c '%h' "$file")

    # If the link count is greater than 1, it is a hard link
    if [ "$link_count" -gt 1 ]; then
        return 0  # True
    else
        return 1  # False
    fi
}

4. Continue on if so

# Main script
sourcefile="torrent file path"

if is_hardlink "$sourcefile"; then
    # Proceed with further actions here
fi

3. Get inode value of torrent file
   `inode_val=$(ls -i $sourcefile | awk '{print $1}')`
4. Find files in media directory that match this inode
   `filepath=$(find /data/media/movies/ -inum $test)`
6. Remove the media hardlink
   `rm "$filepath"`
7. Run rebalance process on torrent hardlink
8. Recreate the media hardlink
   `ln "$sourcefile" "$filepath" 
9. Proceed to next file
10. ONLY PERFORM THIS PROCESS ON THE FIRST (e.g. /data/media/movies) DIRECTORY
